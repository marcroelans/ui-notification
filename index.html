<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link type="text/css" rel="stylesheet" href="sass/dist/styles.css">
  </head>
  <body>
    <div class="nm-ui-notifications">
      <h2>
        Notification
      </h2>
      <div class="inner">
        <button class="js--button" id="button1">Toogle closable Notification</button>
        <button class="js--button" id="button2">Toogle closable Notification</button>
        <button class="js--button" id="button3">Toogle selfdestructive Notification</button>
        <button class="js--button" id="button4">Toogle selfdestructive Notification</button>
      </div>
    </div>
    <script src="js/dist/ui-notification.js"></script>

    <script>
          const buttons = [].slice.call(document.querySelectorAll('.js--button'));

          buttons.forEach((button) => {
            button.addEventListener('click', function() {
              if(!document.querySelector('.box')) {
                if(button.id == 'button1') {
                  const notification = new UiNotifcation.Notification('Das ist der Titel einer Notification','Das ist der Subtitel einer Notification', {
                    shadow: false,
                    closable: true,
                    afterRender: function(_this, template) {
                      setTimeout(() => {
                        template.classList.add('is-active');
                      }, 10)
                    },
                    beforeDestroy: function(_this, template) {
                      if (!template.classList.contains('is-active')) {
                        return;
                      }

                      _this.options.shouldDestroy = false;
                      template.classList.remove('is-active');
                      template.addEventListener('transitionend', () => {
                        _this.options.shouldDestroy = true;
                        _this.destroy();
                      });
                    }
                  });
                }

                if(button.id == 'button2') {
                  const notification = new UiNotifcation.Notification('Das ist der Titel einer Notification','Das ist der Subtitel einer Notification', {
                    shadow: true,
                    closable: true,
                    afterRender: function(_this, template) {
                      setTimeout(() => {
                        template.classList.add('is-active');
                      }, 10)
                    },
                    beforeDestroy: function(_this, template) {
                      if (!template.classList.contains('is-active')) {
                        return;
                      }

                      _this.options.shouldDestroy = false;
                      template.classList.remove('is-active');
                      template.addEventListener('transitionend', () => {
                        _this.options.shouldDestroy = true;
                        _this.destroy();
                      });
                    }
                  });
                }

                if(button.id == 'button3') {
                  const notification = new UiNotifcation.Notification('Das ist der Titel einer Notification','Das ist der Subtitel einer Notification', {
                    shadow: false,
                    closable: false,
                    duration: 3500,
                    afterRender: function(_this, template) {
                      setTimeout(() => {
                        template.classList.add('is-active');
                      }, 10)
                    },
                    beforeDestroy: function(_this, template) {
                      if (!template.classList.contains('is-active')) {
                        return;
                      }

                      _this.options.shouldDestroy = false;
                      template.classList.remove('is-active');
                      template.addEventListener('transitionend', () => {
                        _this.options.shouldDestroy = true;
                        _this.destroy();
                      });
                    }
                  });
                }

                if(button.id == 'button4') {
                  const notification = new UiNotifcation.Notification('Das ist der Titel einer Notification','Das ist der Subtitel einer Notification', {
                    shadow: true,
                    closable: false,
                    duration: 3500,
                    afterRender: function(_this, template) {
                      setTimeout(() => {
                        template.classList.add('is-active');
                      }, 10)
                    },
                    beforeDestroy: function(_this, template) {
                      if (!template.classList.contains('is-active')) {
                        return;
                      }

                      _this.options.shouldDestroy = false;
                      template.classList.remove('is-active');
                      template.addEventListener('transitionend', () => {
                        _this.options.shouldDestroy = true;
                        _this.destroy();
                      });
                    }
                  });
                }
              }
            });
          });
    </script>
  </body>
</html>
